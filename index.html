<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content='This package provides users with a set of tools to easily create and manipulate 
    field experiment plot boundaries in R. The functions are based on the underpinning of 
    "sf" package implementation. '>
<title>Field experiment plot creation, segmentation and manipulation • plotPlotR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Field experiment plot creation, segmentation and manipulation">
<meta property="og:description" content='This package provides users with a set of tools to easily create and manipulate 
    field experiment plot boundaries in R. The functions are based on the underpinning of 
    "sf" package implementation. '>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">plotPlotR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/plotPlotR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/AgDataNomad/plotPlotR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="plotplotr">plotPlotR<a class="anchor" aria-label="anchor" href="#plotplotr"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p><strong>plotPlotR</strong> referring to plot plotter is a package containing set of functions to create plot layouts on field trial as segments or boundaries for the purposes of extracting value from each plot or adding new data against each plot.</p>
<p>The functions are based on the implementation of “<strong>sf</strong>” package in R and it provides users with a set of tools that are simple for R users to create or manipulate plot boundaries. Users who may not be familiar with spatial data or want functions that can be used easily, repeatedly and in a automated way can use this package.</p>
<p>Agricultural research and farm management are increasingly becoming digital. Equipment used in farm operations and data collection are often connected to the internet, satellites and generates rich meta-data. These meta-data has the potential to become key research support tools that generates new opportunity.</p>
<p><strong>plotPlotR</strong> takes GPS data from the connected devices or manually collected coordinates from rasters or other sources to develop tools that supports agricultural research and farm management. Since it is spatial data we are talking about, the applications of this package extend beyond agriculture to preserving biodiverstity, land management, soil conservation etc.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of plotPlotR from <a href="https://github.com/AgDataNomad/plotPlotR" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"AgDataNomad/plotPlotR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to create plot boundaries:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/AgDataNomad/plotPlotR" class="external-link">plotPlotR</a></span><span class="op">)</span></span>
<span><span class="co">## A simple function to create plot layout with corner points from a csv file</span></span>
<span></span>
<span><span class="va">cornersData</span> <span class="co"># dataframe with 4 XY points corresponding to four corners of an experiment</span></span>
<span><span class="co">#&gt;          X         Y id</span></span>
<span><span class="co">#&gt; 1 148.6870 -34.47064  1</span></span>
<span><span class="co">#&gt; 2 148.6873 -34.47062  4</span></span>
<span><span class="co">#&gt; 3 148.6869 -34.46992  2</span></span>
<span><span class="co">#&gt; 4 148.6872 -34.46990  3</span></span>
<span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_input_dat.html">read_input_dat</a></span><span class="op">(</span><span class="va">cornersData</span>, <span class="fl">4326</span>, <span class="fl">28355</span><span class="op">)</span> <span class="co"># Reading data and converting to unit M CRS</span></span>
<span></span>
<span><span class="va">dat_plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/corners_to_plots.html">corners_to_plots</a></span><span class="op">(</span><span class="va">dat</span>, <span class="fl">80</span>, <span class="fl">24.2</span>, <span class="fl">11</span>, <span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat_plots</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/addRunRange.html">addRunRange</a></span><span class="op">(</span><span class="va">dat_plots</span>, <span class="st">"BL"</span>, n_runs <span class="op">=</span> <span class="fl">11</span>, n_ranges <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dat_plots</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="section level3">
<h3 id="reading-data">Reading data<a class="anchor" aria-label="anchor" href="#reading-data"></a>
</h3>
<p>The function <code><a href="reference/read_input_dat.html">read_input_dat()</a></code> is used to bring your coordinates data into the plotPlotR environment. <code>read_input_dat</code> allows users to input a csv file path or a dataframe loaded in the <code>R</code> environment or any common shape file formats.</p>
<p><em>plotPlotR</em> requires all shapefiles to have a Coordinate Reference System (CRS) and more importantly it requires coordinates in unit meters to compute different functions. Coordinate Reference System is a coordinates based system to locate geographical entities and is the core principles of GIS workflows. Most common CRS is WGS84 or EPSG 4326, which uses longitudes and latitudes to locate geographical entities. This CRS is what gets used in applications such as navigation systems, google maps, drone navigation etc. Orthomosaics generated using a stitching software often has CRS 4326.</p>
<p>When reading data from a CSV file or from a dataframe, users need to supply the X and Y values using <code>XY</code> argument and the CRS using the <code>input_CRS</code> arg. <code>input_CRS</code> argument takes any default CRS formats, just entering the EPSG code as a number works, for example <code>input_CRS = 4326</code>. <code>XY</code> argument is not required if and when the csv file or the dataframe has XY as the first two columns.</p>
<p>Here is an example of reading data using the <strong>cornersData</strong> dataset included in the package. <code>read_input_dat</code> function is used without declaring <code>to_CRS_M</code> argument. NOTE: When <code>to_CRS_M</code> is not supplied, plotPlotR automatically assigns a <strong>WGS 84 / Pseudo-Mercator</strong> CRS.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_input_dat.html">read_input_dat</a></span><span class="op">(</span>input_dat <span class="op">=</span> <span class="va">cornersData</span>,</span>
<span>                      input_CRS <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat</span></span>
<span><span class="co">#&gt; Simple feature collection with 4 features and 1 field</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 16551752.3556914 ymin: -4092173.30932014 xmax: 16551789.4505747 ymax: -4092074.50353949</span></span>
<span><span class="co">#&gt; Projected CRS: WGS 84 / Pseudo-Mercator</span></span>
<span><span class="co">#&gt;   id                       geometry</span></span>
<span><span class="co">#&gt; 1  1 POINT (16551761.36137088015...</span></span>
<span><span class="co">#&gt; 2  4 POINT (16551789.45057468861...</span></span>
<span><span class="co">#&gt; 3  2 POINT (16551752.35569142177...</span></span>
<span><span class="co">#&gt; 4  3 POINT (16551780.27652684040...</span></span></code></pre></div>
<p>Here is an example of reading data with a <code>to_CRS_M</code> agrument.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_input_dat.html">read_input_dat</a></span><span class="op">(</span>input_dat <span class="op">=</span> <span class="va">cornersData</span>,</span>
<span>                      input_CRS <span class="op">=</span> <span class="fl">4326</span>,</span>
<span>                      to_CRS_M <span class="op">=</span> <span class="fl">28355</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat</span></span>
<span><span class="co">#&gt; Simple feature collection with 4 features and 1 field</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 654928.548113784 ymin: 6184367.6941717 xmax: 654957.872873335 ymax: 6184448.58739261</span></span>
<span><span class="co">#&gt; Projected CRS: GDA94 / MGA zone 55</span></span>
<span><span class="co">#&gt;   id                       geometry</span></span>
<span><span class="co">#&gt; 1  1 POINT (654934.6622248028870...</span></span>
<span><span class="co">#&gt; 2  4 POINT (654957.8728733353782...</span></span>
<span><span class="co">#&gt; 3  2 POINT (654928.5481137837050...</span></span>
<span><span class="co">#&gt; 4  3 POINT (654951.6220567182172...</span></span></code></pre></div>
<p>An example of reading data from a dataframe</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">cornersData</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="co">##dataframe</span></span>
<span><span class="co">#&gt; [1] "data.frame"</span></span>
<span></span>
<span><span class="va">df_dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_input_dat.html">read_input_dat</a></span><span class="op">(</span>input_dat <span class="op">=</span> <span class="va">dat</span>, input_CRS <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span></code></pre></div>
<p>Here is an example of reading input data when the dataframe or the CSV file doesn’t contain X and Y as the first two columns. <code>read_input_dat</code> function will convert the XY columns to <em>geometry</em> and preserves all other columns.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">cornersData</span></span>
<span></span>
<span><span class="co">#rearranging and renaming columns and adding a new column to demonstrate read_input_dat function</span></span>
<span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">comment</span> <span class="op">&lt;-</span> <span class="st">"some_gps_data"</span></span>
<span></span>
<span><span class="va">df_dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_input_dat.html">read_input_dat</a></span><span class="op">(</span>input_dat <span class="op">=</span> <span class="va">dat</span>,</span>
<span>                         input_CRS <span class="op">=</span> <span class="fl">4326</span>,</span>
<span>                         XY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>, <span class="co"># columns names of X and Y coordinates</span></span>
<span>                         to_CRS_M <span class="op">=</span> <span class="fl">28355</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df_dat</span></span>
<span><span class="co">#&gt; Simple feature collection with 4 features and 2 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 654928.548113784 ymin: 6184367.6941717 xmax: 654957.872873335 ymax: 6184448.58739261</span></span>
<span><span class="co">#&gt; Projected CRS: GDA94 / MGA zone 55</span></span>
<span><span class="co">#&gt;   A       comment                       geometry</span></span>
<span><span class="co">#&gt; 1 1 some_gps_data POINT (654934.6622248028870...</span></span>
<span><span class="co">#&gt; 2 4 some_gps_data POINT (654957.8728733353782...</span></span>
<span><span class="co">#&gt; 3 2 some_gps_data POINT (654928.5481137837050...</span></span>
<span><span class="co">#&gt; 4 3 some_gps_data POINT (654951.6220567182172...</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="writing-data">Writing data<a class="anchor" aria-label="anchor" href="#writing-data"></a>
</h3>
<p>Writing outputs of <strong>plotPlotR</strong> is done through calling <code><a href="reference/write_output_obj.html">write_output_obj()</a></code> function. This function takes two arguments; <code>output_dat</code> and <code>file_name</code>. File name is the file path with the desired extention type. For example <em>geoJSON</em>, <em>kml</em> etc.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_input_dat.html">read_input_dat</a></span><span class="op">(</span>input_dat <span class="op">=</span> <span class="va">cornersData</span>,</span>
<span>                      input_CRS <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#write_output_obj(dat, "path_to_folder/file_name.geoJSON")</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="creating-plot-layout">Creating plot layout<a class="anchor" aria-label="anchor" href="#creating-plot-layout"></a>
</h2>
<p>Creating plot layout is the core function of the <strong>plotPlotR</strong> package. Creating plots can be done in one of two ways depending on what information is available.</p>
<ol style="list-style-type: decimal">
<li>From 4 coordinates or sets of 4 coordinates, center of which is the center of the experiment. <code>corners_to_plots</code> function is used to generate plot layouts from the corner points. The corner points can be generated using different ways, if you have a raster you can use <code>collect_corners</code> function to collect corners. Users can use google earth, QGIS, Ground Control Points data to get 4 corner points.</li>
<li>From trip points generated from tractors/seeders etc using the <code>make_plots</code> function. Modern tractors uses GPS or similar systems to drive on a paddock to sow seeds etc. These trip points, one for each plot can be used to create a field layout.</li>
</ol>
<div class="section level3">
<h3 id="corners-to-plots">Corners to plots<a class="anchor" aria-label="anchor" href="#corners-to-plots"></a>
</h3>
<p>Creating</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/AgDataNomad/plotPlotR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/AgDataNomad/plotPlotR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>AGPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing plotPlotR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Aswin Singaram Natarajan <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8981-6353" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Todd Collins <br><small class="roles"> Author, contributor </small> <a href="https://orcid.org/0000-0001-9286-0494" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Aswin Singaram Natarajan, Todd Collins.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
